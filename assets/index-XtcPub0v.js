(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const a=document.getElementById("checkbox-count-input"),g=document.getElementById("category-form"),p=document.getElementById("selected"),d=document.getElementById("checkboxes"),y=document.getElementById("checkbox-template"),b=5,f=100,h=0;function u(t){const e=new URL(window.location);e.searchParams.set("categories",t.join(","));const r=a.value;e.searchParams.set("count",r||t.length),window.history.pushState({},"",e)}function l(t){p.textContent=t.join(", ")}function C(){const t=new URLSearchParams(window.location.search),e=t.get("categories"),r=t.get("count");return{categories:e?e.split(","):[],count:r?parseInt(r,10):b}}let c=[];function E(t){let e=t.target.value;e<h?t.target.value=h:e>f&&(t.target.value=f),u(c)}function v(t){t.preventDefault();const e=a.value;m(e)}function x(t){const e=t.target.value;t.target.checked?c.includes(e)||c.push(e):c=c.filter(r=>r!==e),u(c),l(c)}function m(t,e=!0){const r=y;d.innerHTML="",e&&(c=[]),u(c),l(c);for(let s=1;s<=t;s++){const o=r.content.cloneNode(!0),n=o.querySelector("input"),i=o.querySelector("label");n.type="checkbox",n.id=`cat${s}`,n.value=s,i.htmlFor=`cat${s}`,i.textContent=`Категория ${s}`,n.checked=c.includes(n.value),n.addEventListener("change",x),d.appendChild(o)}}function L(){const{categories:t,count:e}=C();a.value=e,t.length&&(c=t),m(e,!1),t.length&&l(c)}a.addEventListener("input",E);g.addEventListener("submit",v);L();
