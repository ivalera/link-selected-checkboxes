(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();const i=document.getElementById("checkbox-count-input"),g=document.getElementById("category-form"),a=document.getElementById("checkboxes"),f=document.getElementById("checkbox-template"),y=5,h=100,m=0;function l(t){const e=new URL(window.location);t&&e.searchParams.set("categories",t.join(",")),i&&i.value?e.searchParams.set("count",i.value):e.searchParams.set("count",t.length||0),window.history.pushState({},"",e)}function d(t){const e=document.getElementById("selected");e&&(e.textContent=t.join(", "))}function b(){const t=new URLSearchParams(window.location.search),e=t.get("categories"),c=t.get("count");return{categories:e?e.split(","):[],count:c?parseInt(c,10):y}}let r=[];function C(t){const e=t.target;if(!e)return;let c=e.value;c<m?t.target.value=m:c>h&&(t.target.value=h),l(r)}function E(t){if(t.preventDefault(),!i)return;const e=i.value;p(e)}function v(t){const e=t.target;if(!e)return;const c=e.value;e.checked?r.includes(c)||r.push(c):r=r.filter(s=>s!==c),l(r),d(r)}function p(t,e=!0){if(!f||!a)return;const c=f;a.innerHTML="",e&&(r=[]),l(r),d(r);for(let s=1;s<=t;s++){const n=c.content.cloneNode(!0),o=n.querySelector("input"),u=n.querySelector("label");o.type="checkbox",o.id=`cat${s}`,o.value=s,u.htmlFor=`cat${s}`,u.textContent=`Категория ${s}`,o.checked=r.includes(o.value),o.addEventListener("change",v),a.appendChild(n)}}function x(){const{categories:t,count:e}=b();i&&(i.value=e),t.length&&(r=t),p(e,!1),t.length&&d(r)}i.addEventListener("input",C);g.addEventListener("submit",E);x();
